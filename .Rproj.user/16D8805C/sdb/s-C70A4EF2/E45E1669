{
    "contents" : "\n#' @title Clean Case Numbers\n#' @description Useful for correcting manually entered case numbers that may be abbreviated or contain non-standard methods for handling null values such as \"No #\"\n#' @param x is a character vector containing case numbers.\n#' @return Character vector of standardized case numbers.\n#' @seealso clean_x, clean_id\n#' @examples\n#' clean_case(\"PB123\") # PB000123\n#' clean_case(\"None\") # NA\n#' clean_case(\"5678\") # PB005678\n\n# Clean Case Numbers\n# These should be 8 characters and usually contain PB or some other letter(s) as the first two characters\n#' @export\nclean_case <- function(x) {\n\n  # Strip away all characters, even if it's something that indicates an empty value such as \"No PB #\"\n  x <- stringr::str_replace_all(x, pattern = \"[A-Za-z]\", replacement = \"\")\n\n  # Replace all whitespace\n  x <- stringr::str_replace_all(x, pattern = \" \", replacement = \"\")\n\n  # Pad each element with zeros to become 6 digits long\n  padded <- vapply(x, stringr::str_pad, FUN.VALUE = \"character\", width = 6, side = \"left\", pad = \"0\")\n\n  # Add the PB prefix to all strings\n  padded <- stringr::str_c(\"PB\", padded)\n\n  # Convert the ones that originally used text to indicate null values to NA\n  padded[grep(\"PB000000\", padded)] <- NA\n\n  # Return the final string\n  return(padded)\n}\n#' @importFrom magrittr \"%>%\"\n",
    "created" : 1452184196785.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1875528176",
    "id" : "E45E1669",
    "lastKnownWriteTime" : 1451943681,
    "path" : "~/identifyr/R/clean_pb.R",
    "project_path" : "R/clean_pb.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}